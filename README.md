<span>üá∫üá∏ en-US doc</span>
# AbraAPI - Documentation 

### Release 1.0.0

## Description

The AbraAPI is a public API that allows you to register and retrieve notifications for integrations. The name "Abra" is based on the Pok√©mon Abra, known for its teleportation ability. This API was developed with the aim of providing an efficient and scalable system for managing notifications across different systems or individual profiles within those systems. Through the AbraAPI, you can send, receive, and even mark notifications as read.

## Example Usage

Below, we provide examples of using the main methods available in the AbraAPI.

POST - Send Notification
Endpoint: /notifications

This endpoint allows you to send a new notification.

Example request:


```bash
POST /notifications HTTP/1.1
Host: abra-api.top
Content-Type: application/json

{ 
  "key": "!@ExempleKey",
  "title": "New message",
  "content": "You have received a new message."
}

```

Example response:

```bash
{
  "id": "a462ea672aa0akf4069ac1al",
  "key": "!@ExempleKey",
  "dateCreated": "2023-06-11T13:58:01.916Z",
  "dateUpdated": null,
  "title": "New message",
  "content": "This is a test notification",
  "read": false
}
```

GET - Retrieve Notifications
Endpoint: /notifications/retrieve

This endpoint allows you to retrieve all registered notifications by key.

Example request:


```bash
GET /notifications/retrieve?key=!@ExempleKey HTTP/1.1
Host: abra-api.top
Example response:

json

[
  {
    "id": "a462ea672aa0akf4069ac1al",
    "title": "New message",
    "content": "You have received a new message.",
    "dateCreated": "2023-06-11T14:09:49.081Z",
    "read": false
  },
  {
    "id": "a882ea679aa0akf4069ac1aa",
    "title": "Profile update",
    "content": "Your profile has been successfully updated.",
    "dateCreated": "2023-06-11T14:09:49.081Z",
    "dateUpdated": "2023-06-11T14:09:49.081Z",
    "read": true
  }
]
```

PATCH - Mark Notification as Read

Endpoint: /notifications/a882ea679aa0akf4069ac1aa

This endpoint allows you to mark a notification as read.

Example request:



```bash
PATCH /notifications/a882ea679aa0akf4069ac1aa HTTP/1.1
Host: abra-api.top
Content-Type: application/json
```
Example response:

```bash
{
  "id": "6462eb672fa0abf4069bc1a5",
  "title": "Profile update",
  "key": "!@ExempleKey",
  "dateCreated": "2023-06-11T14:05:37.965Z",
  "dateUpdated": "2023-06-11T14:05:37.965Z",
  "content": "Your profile has been successfully updated.",
  "read": true
}
```


### Release 1.0.1

There are two new endpoints:

Endpoint: /notifications/edit

Exeple of request:

```
PUT /notifications/edit
Host: abra-api.top
{
  "id": "64bc090ad12cb806af38f65e",
  "title": "I`m and edited notification",
  "key": "TheKeyIUsedToRegisterTheNotification",
  "content": "The new content I want put in. :)"
}

```

Response:

```
{
  "read": true,
  "appUrl": "site.com",
  "content": "The new content I want put in. :)",
  "key": "TheKeyIUsedToRegisterTheNotification",
  "dateCreated": "2023-07-22T16:51:22.366Z",
  "dateUpdated": "2023-07-22T17:14:28.630Z",
  "id": "64bc090ad12cb806af38f65e",
  "user": "user",
  "title": "I`m and edited notification"
}

```

Endpoint: /notifications/delete

Example of request:

```
DELETE /notifications/delete
Host: abra-api.top

{
  "id": "64bc090ad12cb806af38f65e",
  "key": "TheKeyIUsedToRegisterTheNotification",
  "appUrl": "site.com",
  "user": "user"
}

```
Response:

```
{
  "content": "Notification 64bc090ad12cb806af38f65e deleted successfully."
}
```

## Final Considerations
The AbraAPI is a powerful API for registering and sending notifications to systems or individual profiles. It provides endpoints to retrieve notifications, send new notifications, and mark notifications as read. Through these functionalities, you can efficiently and effectively manage notifications generated by the integrated systems.

<b>For more informations consult the Swagger documentation https://abra-api.top/api</b>

----
<br>
<span>üáßüá∑ pt-BR doc</span>

# AbraAPI - Documenta√ß√£o

### Vers√£o 1.0.0 

## Descri√ß√£o
A AbraAPI √© uma API p√∫blica que permite registrar e recuperar notifica√ß√µes para integra√ß√µes. O nome "Abra" √© baseado no Pok√©mon Abra, conhecido por sua habilidade de teletransporte. Esta API foi desenvolvida com o objetivo de fornecer um sistema eficiente e escal√°vel para gerenciar notifica√ß√µes em diferentes sistemas ou perfis individuais dentro desses sistemas. Atrav√©s da AbraAPI, √© poss√≠vel enviar, receber e at√© mesmo marcar notifica√ß√µes como lidas.

## Exemplos de Uso
A seguir, apresentamos exemplos de uso dos principais m√©todos dispon√≠veis na AbraAPI.

POST - Enviar Notifica√ß√£o
Endpoint: /notifications

Este endpoint permite enviar uma nova notifica√ß√£o.

Exemplo de requisi√ß√£o:



POST /notifications HTTP/1.1
Host: api.abra.top
Content-Type: application/json
```bash
{ 
  "key": "!@ExempleKey",
  "title": "Nova mensagem",
  "content": "Voc√™ recebeu uma nova mensagem."
}
```
Exemplo de resposta:
```bash
{
  "id": "a462ea672aa0akf4069ac1al",
  "key": "!@ExempleKey",
  "dateCreated": "2023-06-11T13:58:01.916Z",
  "dateUpdated": null,
  "title": "Nova mensagem",
  "content": "Voc√™ recebeu uma nova mensagem."
  "read": false
}
```

GET - Recuperar Notifica√ß√µes
Endpoint: /notifications/retrieve

Este endpoint permite recuperar todas as notifica√ß√µes registradas.

Exemplo de requisi√ß√£o:


```bash
GET /notifications/retrieve?key=!@ExempleKey HTTP/1.1
Host: api.abra.top
```
Exemplo de resposta:
```bash
[
  {
    "id": "a462ea672aa0akf4069ac1al",
    "title": "Nova mensagem",
    "content": "Voc√™ recebeu uma nova mensagem.",
    "dateCreated": "2023-06-11T14:09:49.081Z",
    "read": false
  },
  {
    "id": "a882ea679aa0akf4069ac1aa",
    "title": "Atualiza√ß√£o de perfil",
    "content": "Seu perfil foi atualizado com sucesso.",
    "dateCreated": "2023-06-11T14:09:49.081Z",
    "dateUpdated": "2023-06-11T14:09:49.081Z",
    "read": true
  }
]
```
PATCH - Marcar Notifica√ß√£o como Lida

Endpoint: /notifications/{id}

Este endpoint permite marcar uma notifica√ß√£o como lida.

Exemplo de requisi√ß√£o:
```bash
bash

PATCH /notifications/a882ea679aa0akf4069ac1aa HTTP/1.1
Host: api.abra.top
Content-Type: application/json
```
Exemplo de resposta:

```bash
{
  "id": a882ea679aa0akf4069ac1aa,
  "title": "Atualiza√ß√£o de perfil",
  "content": "Seu perfil foi atualizado com sucesso.",
  "dateUpdated": "2023-06-11T14:09:49.081Z",
  "read": true
}
```


### Vers√£o 1.0.1

Existem duas novas funcionalidades:

Endpoint: /notifications/edit

Exemplo de requisi√ß√£o:

```
PUT /notifications/edit
Host: abra-api.top
{
  "id": "64bc090ad12cb806af38f65e",
  "title": "Eu sou uma notifica√ß√£o editada",
  "key": "AChaveQueUseiParaRegistrarANotifica√ß√£o",
  "content": "O novo conte√∫do que desejo adicionar. :)"
}
```
Resposta:

```
{
  "read": true,
  "appUrl": "site.com",
  "content": "O novo conte√∫do que desejo adicionar. :)",
  "key": "AChaveQueUseiParaRegistrarANotifica√ß√£o",
  "dateCreated": "2023-07-22T16:51:22.366Z",
  "dateUpdated": "2023-07-22T17:14:28.630Z",
  "id": "64bc090ad12cb806af38f65e",
  "user": "usu√°rio",
  "title": "Eu sou uma notifica√ß√£o editada"
}

```
Endpoint: /notifications/delete

Exemplo de requisi√ß√£o:

```
DELETE /notifications/delete
Host: abra-api.top

{
  "id": "64bc090ad12cb806af38f65e",
  "key": "AChaveQueUseiParaRegistrarANotifica√ß√£o",
  "appUrl": "site.com",
  "user": "usu√°rio"
}

```
Resposta:
```
{
  "content": "Notifica√ß√£o 64bc090ad12cb806af38f65e exclu√≠da com sucesso."
}

```

## Considera√ß√µes Finais
A AbraAPI √© uma API poderosa para o registro e envio de notifica√ß√µes em sistemas ou perfis individuais. Ela fornece endpoints para recuperar notifica√ß√µes, enviar novas notifica√ß√µes e marcar notifica√ß√µes como lidas. Atrav√©s dessas funcionalidades, √© poss√≠vel manter um controle eficiente e atualizado sobre as notifica√ß√µes geradas pelos sistemas integrados.

<b>Para maiores informa√ß√µes consulte nossa documenta√ß√£o no Swagger https://abra-api.top/api</b>

----


### Running the Project
#### To run the project, follow these steps:

Clone the repository.
Install the dependencies by running npm install.
Set up the environment variables by creating a .env file in the root directory and adding the required variables.
Start the server by running npm start.
Environment Variables
The following environment variables are required to run the project:

NODE_ENV: The environment in which the project is running (e.g., development, production).
PORT: The port on which the server should listen.
MONGO_URI: The MongoDB connection string.
JWT_SECRET: The secret key for generating JSON Web Tokens.
Versions
The following versions are used in the project:

Node.js: 14.21.3
NestJS: 8.0.0
MongoDB: 4.4.12
Installation
To install the project dependencies, run the following command:


Insert in Terminal
npm install
Running Locally

To run the project locally, follow these steps:

Set up the environment variables by creating a .env file in the root directory and adding the required variables.

add the file dev.env in the root folder
add the certificates files inside the src folder
add private.key inside src as well

Start the server by running npm start.
